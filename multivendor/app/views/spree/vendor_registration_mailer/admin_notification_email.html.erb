<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>New Vendor Registration - <%= @vendor.display_name %></title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;">
  <!-- Header -->
  <div style="text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 2px solid #f0f0f0;">
    <h1 style="color: #d69e2e; margin: 0;"><%= @store.name %> - Admin Panel</h1>
    <p style="color: #666; margin: 5px 0 0 0;">New Vendor Registration Alert</p>
  </div>

  <!-- Main Content -->
  <div style="margin-bottom: 30px;">
    <h2 style="color: #d69e2e; margin-bottom: 20px;">New Vendor Application Received</h2>

    <p>A new vendor has registered on <strong><%= @store.name %></strong> and requires review for approval.</p>

    <!-- Vendor Details -->
    <div style="background-color: #fffbf0; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #d69e2e;">
      <h3 style="color: #d69e2e; margin-top: 0;">Vendor Information:</h3>

      <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 10px; margin-bottom: 15px;">
        <strong>Business Name:</strong>
        <span><%= @vendor.display_name %></span>

        <strong>Legal Name:</strong>
        <span><%= @vendor.legal_name %></span>

        <strong>Business Type:</strong>
        <span><%= @vendor.business_type_display %></span>

        <strong>Registration No:</strong>
        <span><%= @vendor.registration_number %></span>

        <strong>Country:</strong>
        <span><%= @vendor.country&.name || @vendor.country_code %></span>

        <strong>Contact Email:</strong>
        <span><%= @user.email %></span>

        <strong>Phone:</strong>
        <span><%= @vendor.phone_number %></span>

        <strong>Registration Date:</strong>
        <span><%= Date.current.strftime('%B %d, %Y at %I:%M %p') %></span>
      </div>

      <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #f7fafc;">
        <strong>Business Address:</strong><br>
        <span style="color: #666;"><%= @vendor.full_business_address %></span>
      </div>

      <% if @vendor.website_url.present? %>
        <div style="margin-top: 10px;">
          <strong>Website:</strong>
          <a href="<%= @vendor.website_url %>" style="color: #d69e2e;"><%= @vendor.website_url %></a>
        </div>
      <% end %>
    </div>

    <!-- User Account Details -->
    <div style="background-color: #f7fafc; padding: 20px; border-radius: 8px; margin: 20px 0;">
      <h3 style="color: #4a5568; margin-top: 0;">Account Holder Information:</h3>
      <ul style="list-style-type: none; padding: 0;">
        <li style="margin: 8px 0;"><strong>Name:</strong> <%= @user.first_name %> <%= @user.last_name %></li>
        <li style="margin: 8px 0;"><strong>Email:</strong> <%= @user.email %></li>
        <li style="margin: 8px 0;"><strong>User ID:</strong> #<%= @user.id %></li>
      </ul>
    </div>

    <!-- Registration Status -->
    <div style="text-align: center; padding: 15px; background-color: #fef5e7; border-radius: 8px; margin: 20px 0;">
      <span style="color: #d69e2e; font-weight: bold; font-size: 16px;">
        ‚è≥ Status: PENDING ADMIN REVIEW
      </span>
    </div>
  </div>

  <!-- Action Required -->
  <div style="text-align: center; margin: 40px 0; padding: 25px; background-color: #e2f4ff; border-radius: 8px;">
    <h3 style="margin-top: 0; color: #2c5282;">Action Required</h3>
    <p style="margin-bottom: 20px;">Please review this vendor application and take appropriate action.</p>

    <div style="margin: 20px 0;">
      <a href="<%= spree.admin_vendors_url %>"
         style="background-color: #2c5282; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; margin: 0 10px;">
        Review in Admin Panel
      </a>
    </div>

    <p style="font-size: 14px; color: #4a5568; margin-top: 20px;">
      <strong>Remember:</strong> Verify business registration details and documentation before approving.
    </p>
  </div>

  <!-- Quick Stats -->
  <div style="background-color: #f0fff4; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4 style="color: #22543d; margin-top: 0;">Application Completeness:</h4>
    <div style="background-color: #c6f6d5; height: 8px; border-radius: 4px; margin: 10px 0;">
      <div style="background-color: #38a169; height: 100%; width: <%= @vendor.business_registration_percentage %>%; border-radius: 4px;"></div>
    </div>
    <p style="margin: 5px 0; font-size: 14px; color: #22543d;">
      <strong><%= @vendor.business_registration_percentage %>% Complete</strong>
      <% unless @vendor.business_registration_complete? %>
        <span style="color: #e53e3e;"> - Missing required fields</span>
      <% end %>
    </p>
  </div>

  <!-- Footer -->
  <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #e2e8f0; color: #666; font-size: 14px;">
    <p style="margin: 0;">This notification was sent from <strong><%= @store.name %></strong></p>
    <p style="margin: 5px 0 0 0;">Vendor ID: #<%= @vendor.id %> | Registration Time: <%= Date.current.strftime('%Y-%m-%d %H:%M:%S %Z') %></p>
  </div>
</body>
</html>